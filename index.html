<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Countdown</title>
    <link href="css/index.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="http://www.iconarchive.com/download/i103298/vcferreira/firefox-os/clock.ico" />
</head>

<body>
    <!-- Shoutout to Callie for being an amazing girlfriend!!! !-->
    <div class="wrapper">
        <header class="header">
            <h1 id="Date" class="header-text" style='float:left;'>Starting...</h1>
            <h1 id="Clock" style='font-family:monospace; font-size: 1.5em; padding: 5px 5px 5px 5px; float:right'>Loading...</h1>
        </header>
        <!-- .header-->
        <div class="middle">
            <div class="container">
                <main class="content">
                    <object type="text/html" data="html/schedule.html" height='426px' width='100%'></object>
                </main>
                <!-- .content -->
            </div>
            <!-- .container-->
            <aside class="left-sidebar">
                <object class="year-schedule" data="https://lisle202.socs.net/pages/uploaded_files/Updated%20Version%20of%20Final%202017-18%20School%20Calendar%20new%20format%20B-3.pdf"></object>
            </aside>
            <!-- .left-sidebar -->
            <aside class="right-sidebar">
                <div>
                    <div class='sidebar-div'>
                        <input type='checkbox' class='opener' id='linksOpener'>
                        <label for='linksOpener'></label>
                        <label for='linksOpener'>
                            <h3 class="header-text">Links:</h3>
                        </label>
                        <div class='expanding'>
                            <a href='https://rogerhub.com/final-grade-calculator/' class='below-header'>Finals Calculator</a>
                        </div>
                    </div>
                    <div class='sidebar-div'>
                        <input type='checkbox' class='opener' id='customOpener'>
                        <label for='customOpener'></label>
                        <label for='customOpener'>
                            <h3 class="header-text">Custom Countdown:</h3>
                        </label>
                        <div class='expanding'>
                            <label clasfor="customCountdown">Date:</label>
                            <input id="customCountdown" type="datetime-local" style="width: 225px;" name='customCountdown'>
                            <input type='button' value='Start' id='customButton' onclick="run(new Date(document.getElementById('customCountdown').value));">
                            <script>
                                /* the code */
                                  var i = document.getElementById("customCountdown");
                                  /* save */
                                  var o = function() {
                                      localStorage.setItem("custom", i.value);
                                  }
                                  /* retrieve (only on page load) */
                                  if (window.localStorage.getItem("custom")) {
                                      i.value = localStorage.getItem("custom");
                                  }
                                  /* autosave onchange and every 10000ms and when you close the window */
                                  i.onchange = o();
                                  i.onkeypress=function(e){
                                    if(e.keyCode==13){
                                      document.getElementById('customButton').click();
                                    }
                                  }
                                  setInterval(o, 10000);
                                  window.onunload = o();
                            </script>
                        </div>
                    </div>
                    <div class='sidebar-div'>
                        <input type='checkbox' class='opener' id='anywhereOpener'>
                        <label for='anywhereOpener'></label>
                        <label for='anywhereOpener'>
                            <h3 class="header-text">Countdown Anywhere:</h3>
                        </label>
                        <div class='expanding'>
                            <p class="below-header">Countdown Anywhere allows you to place a countdown on any webpage. Just drag this link to your bookmarks bar, and click it when on your favorite webpage!</p>
                            <a href='javascript:(function()%7Bdocument.body.appendChild(document.createElement(%22script%22)).src%3D%22https%3A%2F%2Fwww.countdownlhs.ga%2Fgeneral%2Fclock.js%22%7D)()' class='below-header'>Countdown Anywhere</a>
                        </div>
                    </div>
                    <div class='sidebar-div'>
                        <input type='checkbox' class='opener' id='messageOpener'>
                        <label for='messageOpener'></label>
                        <label for='messageOpener'>
                            <h3 class="header-text">Message Me:</h3>
                        </label>
                        <div class='expanding'>
                            <form name="messageMe" netlify action='/html/redirect.html'>
                                <p>
                                    <label>Message: <input name="message" id="message" style='width: 203px;'></label>
                                    <button type="submit" onClick="return empty()">Send</button>
                                    <script>
                                        function empty() {
                                                          var x;
                                                          x = document.getElementById("message").value;
                                                          if (x == "") {
                                                              alert("Send me a real message");
                                                              return false;
                                                          }
                                                          if (x.indexOf('fuck') != -1 || x.indexOf('shit') != -1 || x.indexOf('ass') != -1 || x.indexOf('bitch') != -1 || x.indexOf('dick') != -1 || x.indexOf('penis') != -1) {
                                                           alert("Don't swear, the system is watching");
                                                           return false;
                                                          }
                                                          }
                                    </script>
                                </p>
                            </form>
                        </div>
                    </div>
                    <div class='sidebar-div'>
                        <input type='checkbox' class='opener' id='delayOpener'>
                        <label for='delayOpener'></label>
                        <label for='delayOpener'>
                            <h1 class="header-text">Delay?</h1>
                        </label>
                        <div class='expanding'>
                            <p class='below-header'>Change this number and hit submit to fine tune the countdown. Raise the number if the bell was before the countdown, and lower it if the bell was after.</p>
                            <label for="delayInput">Seconds:</label>
                            <input id="delayInput" type="number" style="width: 50px;" value='0' name='delayInput'>
                            <input type='button' value='Restart Countdown' id='delayButton' onclick="run();">
                            <script>
                                /* the code */
                                  var k = document.getElementById("delayInput");
                                  /* save */
                                  var b = function() {
                                      localStorage.setItem("delay", k.value);
                                  }
                                  /* retrieve (only on page load) */
                                  if (window.localStorage.getItem("delay")) {
                                      k.value = localStorage.getItem("delay");
                                  }
                                  /* autosave onchange and every 10000ms and when you close the window */
                                  k.onchange = b();
                                  k.onkeypress=function(e){
                                    if(e.keyCode==13){
                                      document.getElementById('delayButton').click();
                                    }
                                  }
                                  setInterval(b, 10000);
                                  window.onunload = b();
                            </script>
                        </div>
                    </div>
                </div>
            </aside>
            <!-- .right-sidebar -->
        </div>
        <!-- .middle-->
        <footer class="footer">
            <textarea placeholder="This is a text box. Type here, and it will save the data if you close the site. Only you can read what you put here. Use it for whatever.&#10;Examples:&#10;-Homework&#10;-Research Notes&#10;-Other Notes&#10;-Your Life Story&#10;-The Bee Movie Script"
                id="notepad" style="width:99.5%; height:100%;"></textarea>
            <script>
                /* the code */
                  var n = document.getElementById("notepad");
                  /* save */
                  var s = function() {
                      localStorage.setItem("notepad", n.value);
                  }
                  /* retrieve (only on page load) */
                  if (window.localStorage.getItem("notepad")) {
                      n.value = localStorage.getItem("notepad");
                  }
                  /* autosave onchange and every 10000ms and when you close the window */
                  n.onchange = s();
                  setInterval(s, 10000);
                  window.onunload = s();
            </script>
        </footer>
        <!-- .footer -->
    </div>
    <!-- .wrapper -->
    <script src='javascript/common.js'></script>
    <script src='javascript/code.js'></script>
</body>

</html>
